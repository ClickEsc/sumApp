"use strict";(self.webpackChunksum_app=self.webpackChunksum_app||[]).push([[875],{882:function(e,a,r){var s=r(7294),l=r(5414),t=r(1597),m=r(9519),i=r(8014);a.Z=function(){var e=(0,s.useState)({email:"",password:"",formErrors:{email:"",password:""},isEmailValid:!1,isPasswordValid:!1,isFormValid:!1}),a=e[0],r=e[1],o=(0,s.useState)(!1),n=o[0],p=o[1],c=(0,s.useRef)(),u=(0,s.useRef)(),f=function(e){var s,l=e.target.name,t=e.target.value,m=d(l,t);r(Object.assign({},a,((s={})[l]=t,s),m))},d=function(e,r){var s=a.formErrors,l=a.isEmailValid,t=a.isPasswordValid;switch(e){case"email":l=r.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),s.email=l?"":"Введите корректный email";break;case"password":t=r.length>=6,s.password=t?"":"Пароль должен содержать не менее 6 символов"}return{formErrors:s,isEmailValid:l,isPasswordValid:t,isFormValid:l&&t}};return(0,s.useEffect)((function(){a.formErrors.email?c.current.value=a.formErrors.email:a.formErrors.password&&(u.current.value=a.formErrors.password)}),[a.formErrors]),s.createElement(s.Fragment,null,s.createElement(l.Z,null,s.createElement("title",null,"Вход")),s.createElement("div",{className:"app-page-wrapper"},s.createElement("h3",{className:"app-page-wrapper__title"},"Вход"),s.createElement("form",{className:"app-form app-form_login"},s.createElement("div",{className:"app-form__field-wrapper"},s.createElement("label",{className:"app-form__label",htmlFor:"input-email"},"Логин",s.createElement("input",{required:!0,type:"email",name:"email",id:"input-email",className:"app-form__input",value:a.email,onChange:f})),s.createElement("p",{ref:c,value:a.formErrors.email||"",className:"app-form__error"},a.formErrors.email)),s.createElement("div",{className:"app-form__field-wrapper"},s.createElement("label",{className:"app-form__label",htmlFor:"input-password"},"Пароль",s.createElement("input",{required:!0,type:n?"text":"password",name:"password",id:"input-password",className:"app-form__input",value:a.password,onChange:f}),s.createElement(m.G,{icon:n?i.Aq:i.Mdf,onClick:function(){p(!n)}})),s.createElement("p",{ref:u,value:a.formErrors.password||"",className:"app-form__error"},a.formErrors.password)),s.createElement("button",{type:"button",disabled:!a.isFormValid,onClick:function(e){e.preventDefault(),r(Object.assign({},a,{isFormValid:a.isEmailValid&&a.isPasswordValid})),sessionStorage.setItem("isUserLoggedIn",!0),sessionStorage.setItem("userEmail",a.email),(0,t.navigate)("/addition")},className:"app-form__submit"},"Войти"))))}},667:function(e,a,r){r.r(a);var s=r(7294),l=r(7598),t=r(882);a.default=function(){return s.createElement(l.Z,null,s.createElement(t.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-login-js-aad7b2cae1bf4a02a473.js.map