"use strict";(self.webpackChunksum_app=self.webpackChunksum_app||[]).push([[875],{3654:function(e,a,r){r.r(a),r.d(a,{default:function(){return p}});var s=r(7294),t=r(7598),l=r(5414),m=r(1597),i=r(9519),o=r(8014),n=function(){var e=(0,s.useState)({email:"",password:"",formErrors:{email:"",password:""},isEmailValid:!1,isPasswordValid:!1,isFormValid:!1}),a=e[0],r=e[1],t=(0,s.useState)(!1),n=t[0],p=t[1],c=(0,s.useRef)(),u=(0,s.useRef)(),d=function(e){var s,t=e.target.name,l=e.target.value,m=f(t,l);r(Object.assign({},a,((s={})[t]=l,s),m))},f=function(e,r){var s=a.formErrors,t=a.isEmailValid,l=a.isPasswordValid;switch(e){case"email":t=r.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),s.email=t?"":"Введите корректный email";break;case"password":l=r.length>=6,s.password=l?"":"Пароль должен содержать не менее 6 символов"}return{formErrors:s,isEmailValid:t,isPasswordValid:l,isFormValid:t&&l}};return(0,s.useEffect)((function(){a.formErrors.email?c.current.value=a.formErrors.email:a.formErrors.password&&(u.current.value=a.formErrors.password)}),[a.formErrors]),s.createElement(s.Fragment,null,s.createElement(l.Z,null,s.createElement("title",null,"Вход")),s.createElement("div",{className:"app-page-wrapper"},s.createElement("h3",{className:"app-page-wrapper__title"},"Вход"),s.createElement("form",{className:"app-form app-form_login"},s.createElement("div",{className:"app-form__field-wrapper"},s.createElement("label",{className:"app-form__label",htmlFor:"input-email"},"Логин",s.createElement("input",{required:!0,type:"email",name:"email",id:"input-email",className:"app-form__input",value:a.email,onChange:d})),s.createElement("p",{ref:c,value:a.formErrors.email||"",className:"app-form__error"},a.formErrors.email)),s.createElement("div",{className:"app-form__field-wrapper"},s.createElement("label",{className:"app-form__label",htmlFor:"input-password"},"Пароль",s.createElement("input",{required:!0,type:n?"text":"password",name:"password",id:"input-password",className:"app-form__input",value:a.password,onChange:d}),s.createElement(i.G,{icon:n?o.Aq:o.Mdf,onClick:function(){p(!n)}})),s.createElement("p",{ref:u,value:a.formErrors.password||"",className:"app-form__error"},a.formErrors.password)),s.createElement("button",{type:"button",disabled:!a.isFormValid,onClick:function(e){e.preventDefault(),r(Object.assign({},a,{isFormValid:a.isEmailValid&&a.isPasswordValid})),sessionStorage.setItem("isUserLoggedIn",!0),sessionStorage.setItem("userEmail",a.email),(0,m.navigate)("/addition")},className:"app-form__submit"},"Войти"))))},p=function(){return s.createElement(t.Z,null,s.createElement(n,null))}}}]);
//# sourceMappingURL=component---src-pages-login-js-2bd7f1ba3bb6cbcb9b61.js.map